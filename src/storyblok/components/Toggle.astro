---
import iconCheck from '../../images/svgs/icon-check.svg?raw';
import iconX from '../../images/svgs/icon-x.svg?raw';

interface Props {
  label: string;
  type: 'tools' | 'experiments' | 'stunts';
}

const { label, type } = Astro.props;
---

<label class="flex cursor-pointer items-center space-x-3">
  <input
    type="checkbox"
    :checked={`filters.${type}`}
    @click={`updateFilters('${type}')`}
    class="sr-only peer"
  />
  <span class="text-mud-light">{label}</span>
  <span
    class="relative inline-block h-8 w-16 rounded-full peer-focus-visible:outline-none peer-focus-visible:ring-2 peer-focus-visible:ring-blue-500 peer-focus-visible:ring-offset-2 transition-colors duration-300"
    :class={`filters.${type} ? 'bg-green text-green-dark' : 'bg-red text-red-dark'`}
  >
    <i class="absolute top-1/2 left-0 z-10 mx-1 h-6 w-6 -translate-y-1/2 transform rounded-full bg-white transition-all duration-300 ease-in-out" :class={`filters.${type} ? 'translate-x-8' : 'translate-x-0'`}></i>
    <span class="absolute top-1/2 right-3 z-0 -translate-y-1/2 transform transition-opacity duration-300" :class={`filters.${type} ? 'opacity-0' : 'opacity-100'`}><Fragment set:html={iconX} /></span>
    <span class="absolute top-1/2 left-3 z-0 -translate-y-1/2 transform transition-opacity duration-300" :class={`filters.${type} ? 'opacity-100' : 'opacity-0'`}><Fragment set:html={iconCheck} /></span>
  </span>
</label>
