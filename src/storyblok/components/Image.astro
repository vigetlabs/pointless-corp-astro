---
import { Image as AstroImage } from 'astro:assets';

interface ImageProps {
  image: {
    filename: string;
    alt?: string;
    title?: string;
  };
  class?: string;
  wrapperClass?: string;
  captionClass?: string;
  widths?: number[];
  sizes?: string;
}

const { image, class: className, wrapperClass, captionClass, widths, sizes } = Astro.props as ImageProps;
---

<figure class={wrapperClass}>
  <AstroImage
    src={image.filename}
    alt={image.alt || ''}
    widths={widths}
    sizes={sizes}
    inferSize={true}
    class={`block w-full ${className || ''}`}
  />
  {image.title && <figcaption class={captionClass}>{image.title}</figcaption>}
</figure>
